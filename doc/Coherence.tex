%\documentclass{article}


%\usepackage{hyperref, float, amsmath}
%\usepackage{tikz, ifthen, xcolor}
%\usepackage[english]{babel}

%\usetikzlibrary{fit, calc, arrows, shapes}

%\newcommand{\red}[1]{{\color{red} #1}}


%\begin{document}

\def\coh{\mathrm{coh}}
\def\cohi{\mathrm{\widetilde{coh}}}


\section{Coherence}

\subsection{Coherence theory}

Coherence theory is a psychologically motivated motivational cognitive theory with
foundations in philosophy that approaches problems in terms of the satisfaction
of multiple constraints within networks of highly interconnected elements.
\red{This is a direct copy from \cite{UAB-Thesis, 19}.
It references [Thagard, 2002, Thagard, 2006], that i've never read,
so, what reference should I put, on Thagard or the UAB thesis?}

In Thagardâ€™s theory, the coherence problem is about partitioning a graph of
\emph{information pieces}, interconnected by positive or negative weighted
constraints, that enhance or diminish partition's coherence.
The coherence-maximizing partition is the one that has maximum number of constraints
satisfied.

\red{That's all the generic information about coherence that I found in
\cite{UAB-THesis}. The rest is about the framework and the formalization, but I
use neither. }



\subsection{Coherence and Contexts}
\label{section:coherence}


Within an agent, the coherence is established over \emph{information graphs},
containing the assessed candidate's classes and \emph{context-specific
  knowledge} --- an \emph{information graph}, that holds the information,
already known/accepted by the agent.

While the coherence concept and the idea of coherence-based agents
where taken from \cite{UAB-Thesis}, but the contexts and
coherence assessment were modified.

In \cite{UAB-Thesis} the best partition $\mathcal{A}$ \red{(called \emph{candidate} in this thesis)}
is obtained by an information graph $\mathcal{V}$, considering both
$\mathcal{A}$ and $\mathcal{V} \backslash \mathcal{A}$, as shown in figure
\ref{fig:UAB-partition}. The graph $\mathcal{V}$ is obtained by joining
contexts' graphs \cite[62]{UAB-Thesis}.

\begin{figure}[h]
  \label{fig:UAB-partition}
  \centering
  \includegraphics[width=0.5\textwidth]{img/UAB-splitting.png} % scale=0.5
  \captionsetup{singlelinecheck=off}
  \caption[caption]{ The coherence of partition $\mathcal{A},\mathcal{V}\backslash\mathcal{A}$
            is calculated in \cite{UAB-Thesis} as $
            \dfrac{ \text{\green{\emph{consistent}} relations in } \mathcal{A}
                  + \text{\red{\emph{inconsistent}} relations between }
                          \mathcal{A} \text{ and } \mathcal{V}\backslash\mathcal{A}}
                  {\text{total relations in } \mathcal{V}}$.
            \medskip\\ %\hspace{\textwidth}
            On the image above, the information graph $\mathcal{V}$ consists of
            classes $C_1,\dots,C_4$, also there are three possibilities for
            class $C_1$ placement and two for class $C_4$.

            A relation is
            \begin{itemize}[leftmargin=3cm]
              \item[\red{\emph{inconsistent}}], if two classes intersect in time;
              \item[\yellow{\emph{same class}}], if two classes differ only by time;
              \item[\green{\emph{consistent}}], otherwise.
            \end{itemize}

            Coherence of the partition is $\frac{|1| \cdot 3 + |-1| \cdot 5}
                                                {17} \approx 0.47$.
          }
\end{figure}


In this thesis, a different aproach is taken. The initial information graph,
composed of \emph{classes propositions}, is passed to a \emph{splitting} context,
that generates all posiible \emph{acceptable} (by the splitting context) sub-graphs,
called \emph{candidates} (as it will be shown in \emph{Beliefs} context).

Each candidate is propagated through the contexts in the established
order. At each context it gets assessed and the result is compared
against \emph{context-specific threshold}. If passing threshold test,
the candidate is sent to the next context, otherwise it is marked as failed
(providing a reason) and is propagated no further. In both cases the coherence
value is guarded alongside the candidate.

Thus a context in this thsis serves as \emph{candidates} filter.
\medskip

\noindent
A \emph{context} represents an aspect for optimization/restriction, considered
by an agent. It defines context-specific information and relations over the
information graph, with the corresponding combination functions. There are
two types of relations: \emph{binary} and over the \emph{whole graph}. The former ones
are applied to every pair of nodes and the results are combined by
\emph{binary fold functions} (one combines the results of the same relation
and the other combines the latter results). The whole-graph relations' values are
combined by the corresponding \emph{whole-graph fold function}. In the end the
combined values of both relations types are merged into the result by
\emph{combined merge function}. All the combination functions are defined at
contexts.

\begin{figure}[h]
  \centering
  \fbox{ \input{../src/Document/tikz/ContextAssess} }
  \caption{Binary relations within an information graph. One can
           distinguish the relations between the assessed information pieces
           and the relations between assessed and the known ones.
          }
\end{figure}

\input{Coherence/InternalCoherence}
\input{Coherence/ExternalCoherence}

%\end{document}
