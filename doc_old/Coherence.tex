%\documentclass{article}


%\usepackage{hyperref, float, amsmath}
%\usepackage{tikz, ifthen, xcolor}
%\usepackage[english]{babel}

%\usetikzlibrary{fit, calc, arrows, shapes}

%\newcommand{\red}[1]{{\color{red} #1}}


%\begin{document}

\def\coh{\mathrm{coh}}
\def\cohi{\mathrm{\widetilde{coh}}}


\section{Coherence}
\label{sec:Coherence}

\subsection{Coherence theory}

\begin{displayquote}
Coherence theory is a psychologically motivated motivational cognitive theory with
foundations in philosophy that approaches problems in terms of the satisfaction
of multiple constraints within networks of highly interconnected elements
\cite[p.~19]{UAB-Thesis}.
\end{displayquote}

\red{
In the \cite{UAB-Thesis}, it actually references
[Thagard, 2002, Thagard, 2006], but I don't know if it's a direct quotation from
there (it sounds like); so, I don't know what reference should I put,
on Thagard or the \cite{UAB-Thesis}?}

It can be understood in terms of maximal satisfaction of multiple
constraints \cite{ThagVerb98}
\red{it's also an almost direct quotation, should I format it as one?}.
According to \cite{ThagVerb98}, the method can be used to solve problems in
diverse areas, such as logic, mathematics, law, ethics, rationality, etc.


In Thagard's theory, the coherence problem is about partitioning a graph of
\emph{information pieces}, interconnected by positive or negative weighted
constraints, that enhance or diminish partition's coherence.
The coherence-maximizing partition is the one that has maximum number of constraints
satisfied.


The best partition $\mathcal{A}$ \red{(called \emph{candidate} in this thesis)}
of graph  $\mathcal{V}$  is obtained, considering both
$\mathcal{A}$ (accepted pieces) and
$\mathcal{V} \backslash \mathcal{A}$ (rejected pieces) \cite{ThagVerb98}.

\medskip

\noindent

An example of partitioning by Thagard's method is given in figure \ref{fig:UAB-partition}.
The information graph $\mathcal{V}$ consists of
classes $C_1,\dots,C_4$, also there are three possibilities for
class $C_1$ placement and two for class $C_4$. A relation is
\begin{itemize}[leftmargin=3cm]
  \item[\red{\emph{inconsistent}}], if two classes intersect in time;
  \item[\yellow{\emph{same class}}], if two classes differ only by time;
  \item[\green{\emph{consistent}}], otherwise.
\end{itemize}

\noindent
The coherence of the partition $\mathcal{A},\mathcal{V}\backslash\mathcal{A}$
          is calculated as
\medskip

$   \dfrac{ \text{\green{\emph{consistent}} relations in } \mathcal{A}
          + \text{\red{\emph{inconsistent}} relations between }
                  \mathcal{A} \text{ and } \mathcal{V}\backslash\mathcal{A}}
          {\text{total relations in } \mathcal{V}}$.
\medskip

\noindent
It's value is $\frac{|1| \cdot 3 + |-1| \cdot 5}{17} \approx 0.47$.


\begin{figure}[h]
  \centering
  \includegraphics[width=0.5\textwidth]{img/UAB-splitting.png} % scale=0.5
  % \captionsetup{singlelinecheck=off}
  \caption{Example: information graph partitioning, proposed by Thagard
           \cite{ThagVerb98, UAB-Thesis}. }
  \label{fig:UAB-partition}
\end{figure}


\subsection{Coherence and Contexts}
\label{section:coherence}

In PHD thesis \cite{UAB-Thesis}, the author establishes concrete
\emph{coherence functions}, based on the properties, proposed by Thagard for
such functions. The author chooses \emph{g-BDI} agent architecture ---
a \emph{multi-context} system, where the contexts are: \emph{beliefs},
\emph{desires} and \emph{intentions}. Each context has its \emph{internal rules}
for computing context's logics and there are \emph{bridge rules} that allow to
import contexts' results into other contexts. It should be noted, that \emph{g-BDI}
architecture uses \emph{fuzzy logics}.

The \emph{information graph} is obtained by joining contexts' graphs with the
help of \emph{bridge rules}  \cite[62]{UAB-Thesis}.

\bigskip


\noindent
In this thesis, a different aproach is taken. The initial information graph,
composed of \emph{classes propositions}, is passed to a \emph{splitting} context,
that generates all posiible \emph{acceptable} (by the splitting context) sub-graphs,
called \emph{candidates} (as it will be shown in \emph{Beliefs} context).

Each candidate is propagated through the contexts in the established
order. At each context it gets assessed
(using \emph{context-specific} knowledge and relations)
and the result is compared against \emph{context-specific threshold}.
If passing threshold test,
the candidate is sent to the next context, otherwise it is marked as failed
(providing a reason) and is propagated no further. In both cases the coherence
value is guarded alongside the candidate.

Thus a context in this thsis serves as \emph{candidates} filter. This approach
allows us to avoid:
\begin{enumerate}
  \item Usage of \emph{bridge rules}. It permits more flexebility for
    the \emph{internal rules}. Changes in contexts' logics do not affect the way
    the results are combined, even if the changes are incompatible.
  \item Huge graph partitioning. Such graph would have to unite all the
    candidates and every context's internal knowledge. Then the entire graph
    needs to be stored, until the best partition is found.

    In \red{my} approach, both \emph{candidates generation} and
    \emph{filtering} can be done sequentially and lazily,
    thereby cutting memory usage.

\end{enumerate}

\medskip

\noindent
A \emph{context} represents an aspect for optimization/restriction, considered
by an agent. It defines context-specific information and relations over the
information graph, with the corresponding combination functions. There are
two types of relations: \emph{binary} and over the \emph{whole graph}. The former ones
are applied to every pair of nodes and the results are combined by
\emph{binary fold functions} (one combines the results of the same relation
and the other combines the latter results). The whole-graph relations' values are
combined by the corresponding \emph{whole-graph fold function}. In the end the
combined values of both relations types are merged into the result by
\emph{combined merge function}. All the combination functions are defined at
contexts.

\begin{figure}[h]
  \centering
  \fbox{ \input{../src/Document/tikz/ContextAssess} }
  \caption{Binary relations within an information graph. One can
           distinguish the relations between the assessed information pieces
           and the relations between assessed and the known ones.
          }
\end{figure}

\input{Coherence/InternalCoherence}
\input{Coherence/ExternalCoherence}

%\end{document}
