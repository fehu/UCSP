\documentclass[../../ThesisDoc]{subfiles}
% \documentclass{standalone}
%
% \usepackage{tikz, ifthen}
% \usetikzlibrary{fit, matrix, positioning, shapes, decorations.pathreplacing,
%                 shapes.geometric, chains, arrows, calc }

\newcommand{\mkBoard}{
  \def\range{1,...,\BoardSize}
    \foreach \i in \range
    \foreach \j in \range
      { \pgfmathsetmacro\diff{int(\i-\j)}
        \ifthenelse{\isodd{\diff}}
          {\def\currentNodeStyle{\NodeStyleOdd}}
          {\def\currentNodeStyle{\NodeStyleEven}}
        \node[\currentNodeStyle] at (\i,\j) {};
      }
}

\def\queenMoves[#1][#2](#3,#4){%
  \node[#1] (#2) at (#3, #4) {\QueenSymb};%
  % Horizontal
  \draw[-, \MoveStyle, #1](0.5,#4) -- ($(#3-0.4, #4)$);%
  \draw[-, \MoveStyle, #1]($(#3+0.4, #4)$) -- ($(\BoardSize+0.5,#4)$);%
  % Vertical
  \draw[-, \MoveStyle, #1](#3, 0.5) -- ($(#3, #4-0.4)$);%
  \draw[-, \MoveStyle, #1]($(#3, #4+0.4)$) -- ($(#3,\BoardSize+0.5)$);%
  % Diagonal 1
  \pgfmathsetmacro\diagUp{int(#4-#3)}
  \pgfmathsetmacro\diagUpLY{max(\diagUp,0)}
  \pgfmathsetmacro\diagUpLX{\diagUpLY-\diagUp}
  \pgfmathsetmacro\diagUpRY{min(\BoardSize,\BoardSize+\diagUp)}
  \pgfmathsetmacro\diagUpRX{\diagUpRY-\diagUp}
  \draw[-, \MoveStyle, #1]($(\diagUpLX+0.5, \diagUpLY+0.5)$)%
                       -- ($(#3-0.4, #4-0.4)$);%
  \draw[-, \MoveStyle, #1]($(#3+0.4, #4+0.4)$)%
                       -- ($(\diagUpRX+0.5,\diagUpRY+0.5)$);%
  % Diagonal 2
  \pgfmathsetmacro\diagDown{int(#3+#4-1)}
  \pgfmathsetmacro\diagDownY{min(\diagDown,\BoardSize)}
  \pgfmathsetmacro\diagDownX{\diagDown-\diagDownY}
  \draw[-, \MoveStyle, #1]($(\diagDownX+0.5, \diagDownY+0.5)$)%
                       -- ($(#3-0.4, #4+0.4)$);%
  \draw[-, \MoveStyle, #1]($(#3+0.4, #4-0.4)$)%
                       -- ($(\diagDownY+0.5,\diagDownX+0.5)$);%
}

\begin{document}
\begin{tikzpicture}[
  oddCellStyle/.style={draw, minimum size=1cm},
  evenCellStyle/.style={oddCellStyle, fill=gray!50},
  queenMove/.style={line width=3pt},
  ]
\def\NodeStyleOdd{oddCellStyle}
\def\NodeStyleEven{evenCellStyle}
\def\BoardSize{5}
\def\QueenSymb{\BlackQueenOnWhite}
\def\MoveStyle{queenMove}

\mkBoard
\queenMoves[red][Q1](2,2)
\queenMoves[blue][Q2](3,4)
\queenMoves[green!50!black][Q3](4,1)


\end{tikzpicture}
\end{document}
